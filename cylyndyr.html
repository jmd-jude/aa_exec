<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic Architecture Diagram</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      color: #1E88E5;
      text-align: center;
      margin-bottom: 40px;
    }
    .architecture {
      display: flex;
      flex-direction: column;
      gap: 30px;
    }
    .layer {
      display: flex;
      justify-content: space-between;
      gap: 20px;
    }
    .component {
      background-color: #fff;
      border: 2px solid #1E88E5;
      border-radius: 8px;
      padding: 15px;
      flex-grow: 1;
      flex-basis: 0;
      display: flex;
      flex-direction: column;
      position: relative;
      min-height: 100px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .component-title {
      font-weight: bold;
      font-size: 1.1em;
      margin-bottom: 10px;
      color: #1E88E5;
      text-align: center;
    }
    .component-content {
      font-size: 0.9em;
      flex-grow: 1;
    }
    .component-list {
      padding-left: 20px;
      margin: 5px 0;
    }
    .connection-line {
      height: 30px;
      border-left: 2px dashed #1E88E5;
      margin-left: 50%;
    }
    .connection-point {
      width: 10px;
      height: 10px;
      background-color: #1E88E5;
      border-radius: 50%;
      margin: 0 auto;
    }
    .layer-title {
      background-color: #E3F2FD;
      color: #1E88E5;
      text-align: center;
      padding: 10px;
      border-radius: 8px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .data-flow {
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: #4CAF50;
      color: white;
      font-size: 12px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }
    .feature-badge {
      position: absolute;
      top: -10px;
      right: -10px;
      background-color: #FF9800;
      color: white;
      font-size: 0.7em;
      padding: 3px 8px;
      border-radius: 15px;
    }
    .note {
      background-color: #FFFDE7;
      border-left: 4px solid #FFC107;
      padding: 10px 15px;
      margin: 20px 0;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Natural Language Data Analysis & Exploration Platform</h1>
    
    <div class="note">
      This architecture diagram illustrates the core components of the platform. Each component is intended to work together to enable natural language data exploration without requiring SQL knowledge.
    </div>
    
    <div class="architecture">
      <!-- User Interface Layer -->
      <div>
        <div class="layer-title">User Interface Layer</div>
        <div class="layer">
          <div class="component">
            <div class="feature-badge">Core</div>
            <div class="component-title">Chat Interface</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Natural language question input</li>
                <li>Query/Analysis toggle mode</li>
                <li>Result visualization</li>
                <li>Context-aware follow-ups</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Authentication</div>
            <div class="component-content">
              <ul class="component-list">
                <li>User login and registration</li>
                <li>Role-based access control</li>
                <li>Admin/Standard user privileges</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Connection Management</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Database connection selector</li>
                <li>Connection configuration</li>
                <li>Secure credential handling</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <div class="connection-line"></div>
      <div class="connection-point"></div>
      
      <!-- Application Logic Layer -->
      <div>
        <div class="layer-title">Application Logic Layer</div>
        <div class="layer">
          <div class="component">
            <div class="feature-badge">AI</div>
            <div class="component-title">Natural Language Processing</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Question interpretation</li>
                <li>SQL generation with context</li>
                <li>Result explanation</li>
                <li>Business insight generation</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Schema Management</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Automatic schema introspection</li>
                <li>Business context enrichment</li>
                <li>Table &amp; field descriptions</li>
                <li>Query optimization rules</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Session Management</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Query history tracking</li>
                <li>Conversation context</li>
                <li>Mode state management</li>
                <li>User preferences</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <div class="connection-line"></div>
      <div class="connection-point"></div>
      
      <!-- Data Service Layer -->
      <div>
        <div class="layer-title">Data Service Layer</div>
        <div class="layer">
          <div class="component">
            <div class="component-title">Query Execution Engine</div>
            <div class="component-content">
              <ul class="component-list">
                <li>SQL optimization</li>
                <li>Query execution</li>
                <li>Error handling</li>
                <li>Performance monitoring</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="feature-badge">Core</div>
            <div class="component-title">Data Formatter</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Result formatting</li>
                <li>Type detection</li>
                <li>Data visualization</li>
                <li>Export capabilities</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Query Logger</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Interaction logging</li>
                <li>Performance metrics</li>
                <li>Error tracking</li>
                <li>Usage analytics</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <div class="connection-line"></div>
      <div class="connection-point"></div>
      
      <!-- Integration Layer -->
      <div>
        <div class="layer-title">Integration Layer</div>
        <div class="layer">
          <div class="component">
            <div class="component-title">LLM API Integration</div>
            <div class="component-content">
              <ul class="component-list">
                <li>OpenAI/Anthropic client</li>
                <li>Prompt management</li>
                <li>Response handling</li>
                <li>Fallback strategies</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="feature-badge">Core</div>
            <div class="component-title">Database Connectors</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Snowflake connection</li>
                <li>Credential management</li>
                <li>Connection pooling</li>
                <li>Query transmission</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Authentication Service</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Password hashing</li>
                <li>Session management</li>
                <li>Role verification</li>
                <li>Access control</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <div class="connection-line"></div>
      <div class="connection-point"></div>
      
      <!-- Data Storage Layer -->
      <div>
        <div class="layer-title">Data Storage Layer</div>
        <div class="layer">
          <div class="component">
            <div class="component-title">System Database</div>
            <div class="component-content">
              <ul class="component-list">
                <li>User accounts</li>
                <li>Connection configurations</li>
                <li>Schema metadata</li>
                <li>System logs</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="component-title">Analytics Warehouse</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Usage metrics</li>
                <li>Query performance</li>
                <li>Error statistics</li>
                <li>User behavior analytics</li>
              </ul>
            </div>
          </div>
          <div class="component">
            <div class="feature-badge">External</div>
            <div class="component-title">Snowflake Database</div>
            <div class="component-content">
              <ul class="component-list">
                <li>Business data sources</li>
                <li>Customer-managed</li>
                <li>Data warehouse tables</li>
                <li>Scale-out compute</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="note" style="margin-top: 40px;">
      <strong>Key Engineering Considerations:</strong>
      <ul>
        <li>Natural language processing requires sophisticated prompt engineering for accurate SQL generation</li>
        <li>Database schema enrichment is critical for contextual understanding of business data</li>
        <li>User experience should seamlessly transition between data querying and insightful analysis</li>
        <li>Security and permission models must be robust for handling sensitive business data</li>
        <li>Architecture should support extension to additional database types beyond Snowflake</li>
      </ul>
    </div>
  </div>
</body>
</html>